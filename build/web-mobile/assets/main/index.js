System.register("chunks:///_virtual/TeamManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t;return{setters:[function(n){e=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"0e055FLahdKRaVf1Pe5ImPq","TeamManager",void 0);var r=n("TeamManager",function(){function n(){if(e(this,"DragonsOwned",[]),e(this,"DragoneImages",[]),n._instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");n._instance=this}n.getInstance=function(){return n._instance};var t=n.prototype;return t.setDragonsImages=function(n){this.DragoneImages.push(n)},t.getDragonImages=function(){return this.DragoneImages},t.setDragonsOwned=function(n){this.DragonsOwned.push(n)},t.getDragonsOwned=function(){return this.DragonsOwned},t.getDragonbyIndex=function(n){return this.DragonsOwned[n]},n}());e(r,"_instance",new r),t._RF.pop()}}}));

System.register("chunks:///_virtual/DragonCards.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TeamManager.ts"],(function(e){"use strict";var t,r,a,n,i,o,l,s,c,g,d,u,p,h,b,f,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,s=e.JsonAsset,c=e.Prefab,g=e.Node,d=e.CCInteger,u=e.Sprite,p=e.instantiate,h=e.resources,b=e.SpriteFrame,f=e.Component},function(e){D=e.TeamManager}],execute:function(){var m,y,C,v,N,A,I,P,S,w,z,B,F,M,k,J,_;o._RF.push({},"1a9b4O/6/BKMoRJ7reHyIDt","DragonCards",void 0);var x=l.ccclass,R=l.property;e("DragonCards",(m=x("DragonCards"),y=R({type:s}),C=R({type:c}),v=R({type:c}),N=R({type:g}),A=R({type:g}),I=R({type:d}),P=R({type:g}),m((z=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,a(n(t),"DragonCardsJson",z,n(t)),a(n(t),"DragonCardPrefab",B,n(t)),a(n(t),"AbilitiesPrefab",F,n(t)),a(n(t),"parentDragonsNode",M,n(t)),a(n(t),"ParentAbilityNode",k,n(t)),a(n(t),"AvailableDragons",J,n(t)),a(n(t),"CenterDragonNode",_,n(t)),i(n(t),"dragonCards",[]),i(n(t),"dargonAbilties",[]),i(n(t),"dragonsData",null),i(n(t),"cardSelected",0),t}r(t,e);var o=t.prototype;return o.changeImage=function(e,t){e.getComponent(u).spriteFrame=t},o.leftArrowClick=function(){this.cardSelected>0&&this.setSelectedDragon(this.cardSelected-1)},o.rightArrowClick=function(){this.cardSelected<this.dragonCards.length-1&&this.setSelectedDragon(this.cardSelected+1)},o.toggleView=function(){this.ParentAbilityNode.active=!this.ParentAbilityNode.active,this.parentDragonsNode.active=!this.parentDragonsNode.active},o.backButton=function(){this.node.active=!this.node.active},o.setSelectedDragon=function(e){console.log("Called"),this.dragonCards[this.cardSelected].getChildByName("particles").active=!1,this.cardSelected=e,this.dragonCards[e].getChildByName("particles").active=!0;var t=this.dragonCards[e].getChildByName("DragonImage").getComponent(u).spriteFrame;this.changeImage(this.CenterDragonNode,t);for(var r=0;r<4;r++)this.changeImage(this.dargonAbilties[r].getChildByName("DragonImage"),t)},o.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},o.start=function(){var e=this;this.backButton(),this.dragonsData=this.DragonCardsJson.json;for(var t=null,r=0,a=Array.apply(null,{length:5}).map(Number.call,Number),n=function(n){r=e.randomInt(0,a.length-1),t=p(e.DragonCardPrefab),e.parentDragonsNode.addChild(t),e.dragonCards.push(t),h.load(e.dragonsData.Data[a[r]].Image+"/spriteFrame",b,(function(t,r){var a=r;D.getInstance().setDragonsImages(a),e.changeImage(e.dragonCards[n].getChildByName("DragonImage"),a),0==n&&e.setSelectedDragon(0)})),D.getInstance().setDragonsOwned(a[r]),a.splice(r,1)},i=0;i<this.AvailableDragons;i++)n(i);for(var o=0;o<4;o++)t=p(this.AbilitiesPrefab),this.ParentAbilityNode.addChild(t),this.dargonAbilties.push(t);var l=D.getInstance().getDragonbyIndex(0);console.log("index",l)},t}(f)).prototype,"DragonCardsJson",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(w.prototype,"DragonCardPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"AbilitiesPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"parentDragonsNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"ParentAbilityNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(w.prototype,"AvailableDragons",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),_=t(w.prototype,"CenterDragonNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/RandomDragon.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var n,t,e,o,i,a,c,s;return{setters:[function(r){n=r.applyDecoratedDescriptor,t=r.inheritsLoose,e=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){i=r.cclegacy,a=r._decorator,c=r.CCInteger,s=r.Component}],execute:function(){var u,p,l,g,f;i._RF.push({},"e6906pZIX1AqYvi6Is4j9Z4","RandomDragon",void 0);var y=a.ccclass,d=a.property;r("RandomDragon",(u=y("RandomDragon"),p=d({type:c}),u((f=n((g=function(r){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=r.call.apply(r,[this].concat(i))||this,e(o(n),"DragonsCount",f,o(n)),n}return t(n,r),n.prototype.start=function(){},n}(s)).prototype,"DragonsCount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=g))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/TeamSelection.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./TeamManager.ts"],(function(t){"use strict";var e,o,n,i,r,a,s,g,h,c,l,d,u,p,f,v,D,T,b,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,g=t.CCInteger,h=t.Prefab,c=t.Node,l=t.UITransform,d=t.instantiate,u=t.Sprite,p=t.input,f=t.Input,v=t.v2,D=t.Vec3,T=t.Intersection2D,b=t.Component},function(t){y=t.TeamManager}],execute:function(){var P,m,C,N,S,I,M,U,B,w,E;a._RF.push({},"fffaauw4u5Kh62t8b9MC6tA","TeamSelection",void 0);var L=s.ccclass,_=s.property;t("TeamSelection",(P=L("TeamSelection"),m=_({type:g}),C=_({type:h}),N=_({type:h}),S=_({type:c}),P((U=e((M=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(i(e),"DragonPositions",U,i(e)),n(i(e),"DragonSelectionPrefab",B,i(e)),n(i(e),"DragonsPrefab",w,i(e)),n(i(e),"DragonsParent",E,i(e)),r(i(e),"DragonPositionNode",[]),r(i(e),"dragons",[]),r(i(e),"dragonMove",!1),r(i(e),"targetDragon",0),r(i(e),"DragableNode",null),e}o(e,t);var a=e.prototype;return a.start=function(){for(var t=-.1*this.node.getComponent(l).width,e=-.33*this.node.getComponent(l).height,o=null,n=1;n<=3;n++)for(var i=1;i<=3;i++)o=d(this.DragonSelectionPrefab),this.node.addChild(o),o.setPosition(t,e,1),i%2!=0?(t-=120,e+=80):e-=160,this.DragonPositionNode.push(o);this.setUpDragons(),this.setTouchEvents()},a.setUpDragons=function(){var t=y.getInstance().getDragonImages(),e=null;this.DragableNode=d(this.DragonsPrefab),this.node.addChild(this.DragableNode),this.DragableNode.active=!1;for(var o=0;o<t.length;o++)e=d(this.DragonsPrefab),this.DragonsParent.addChild(e),e.getComponent(u).spriteFrame=t[o],this.dragons.push(e)},a.backButton=function(t){this.node.active=!this.node.active},a.setTouchEvents=function(){p.on(f.EventType.TOUCH_START,this.onTouchStart,this),p.on(f.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(f.EventType.TOUCH_END,this.onTouchEnd,this)},a.onTouchStart=function(t){for(var e=0;e<this.dragons.length;e++)if(this.dragons[e].getComponent(l).getBoundingBoxToWorld().contains(v(t.getUILocation().x,t.getUILocation().y))){var o=this.node.getComponent(l).convertToNodeSpaceAR(new D(t.getUILocation().x,t.getUILocation().y,1));this.dragons[e].setPosition(o),this.dragons[e].parent=this.node,this.targetDragon=e,this.dragonMove=!0}},a.planevalidMoveCheck=function(t){this.dragonMove&&this.dragons[this.targetDragon].setPosition(t)},a.onTouchMove=function(t){var e=this.node.getComponent(l).convertToNodeSpaceAR(new D(t.getUILocation().x,t.getUILocation().y,1));this.planevalidMoveCheck(e)},a.onTouchEnd=function(){for(var t=!1,e=0;e<this.DragonPositionNode.length;e++){var o,n;if(t=T.rectRect(null===(o=this.dragons[this.targetDragon].getChildByName("Colider").getComponent(l))||void 0===o?void 0:o.getBoundingBoxToWorld(),null===(n=this.DragonPositionNode[e].getChildByName("colider").getComponent(l))||void 0===n?void 0:n.getBoundingBoxToWorld())){var i=this.DragonPositionNode[e].getPosition();i.y=i.y+this.dragons[this.targetDragon].getComponent(l).height/2,this.dragons[this.targetDragon].setPosition(i);break}}t||(this.dragons[this.targetDragon].parent=this.DragonsParent)},e}(b)).prototype,"DragonPositions",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),B=e(M.prototype,"DragonSelectionPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(M.prototype,"DragonsPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(M.prototype,"DragonsParent",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=M))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./TeamManager.ts","./DragonCards.ts","./RandomDragon.ts","./TeamSelection.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});