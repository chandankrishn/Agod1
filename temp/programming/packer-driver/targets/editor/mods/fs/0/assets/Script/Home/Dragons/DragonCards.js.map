{"version":3,"sources":["file:///Users/chandan/aGOD/assets/Script/Home/Dragons/DragonCards.ts"],"names":["_decorator","Component","Node","JsonAsset","Prefab","instantiate","Sprite","CCInteger","TeamManager","ccclass","property","DragonCards","type","changeImage","node","image","getComponent","spriteFrame","leftArrowClick","cardSelected","setSelectedDragon","rightArrowClick","dragonCards","length","toggleView","ParentAbilityNode","active","parentDragonsNode","backButton","index","console","log","getChildByName","CenterDragonNode","i","dargonAbilties","start","tempNode","AbilitiesPrefab","addChild","push","getInstance","getDragonbyIndex"],"mappings":"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","sourcesContent":["\nimport { _decorator, Component, Node, JsonAsset, Prefab, instantiate, resources, SpriteFrame, Sprite, CCInteger } from 'cc';\nimport { TeamManager } from '../../GameManager/TeamManager';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = DragonCards\n * DateTime = Wed Mar 23 2022 15:05:55 GMT+0530 (India Standard Time)\n * Author = chandanKrishnani\n * FileBasename = DragonCards.ts\n * FileBasenameNoExtension = DragonCards\n * URL = db://assets/Script/Home/Dragons/DragonCards.ts\n * ManualUrl = https://docs.cocos.com/creator/3.4/manual/en/\n *\n */\n \n@ccclass('DragonCards')\nexport class DragonCards extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    // @property\n    // serializableDummy = 0;\n\n    @property({type : JsonAsset})\n    DragonCardsJson : JsonAsset = null;\n\n    @property({type : Prefab})\n    DragonCardPrefab : Prefab = null;\n\n    @property({type : Prefab})\n    AbilitiesPrefab : Prefab = null;\n\n    @property({type : Node})\n    parentDragonsNode : Node = null;\n\n    @property({type : Node})\n    ParentAbilityNode : Node = null;\n\n    @property({type : CCInteger})\n    AvailableDragons = 3;\n\n\n    @property({type : Node})\n    CenterDragonNode : Node = null;\n\n   \n    dragonCards :any[] = [];\n\n    dargonAbilties : Node[]= [];\n\n    dragonsData : any = null;\n    cardSelected : number = 0;\n\n\n    changeImage( node  : Node ,image : SpriteFrame)\n    {\n        node.getComponent(Sprite).spriteFrame = image;\n    }\n\n    leftArrowClick()\n    {\n      this.cardSelected>0 && this.setSelectedDragon( this.cardSelected -1);\n    }\n\n    rightArrowClick()\n    {\n        this.cardSelected < (this.dragonCards.length-1) && this.setSelectedDragon( this.cardSelected + 1);\n    }\n    toggleView()\n    {\n        this.ParentAbilityNode.active = !this.ParentAbilityNode.active;\n        this.parentDragonsNode.active = !this.parentDragonsNode.active;\n    \n    }\n    backButton()\n    {\n       this.node.active  = !this.node.active;\n\n    }\n\n    setSelectedDragon(index : number)\n    {\n        console.log(\"Called\");\n        this.dragonCards[this.cardSelected].getChildByName('particles').active = false;   \n        this.cardSelected = index;\n        this.dragonCards[index].getChildByName('particles').active = true;\n        let image = this.dragonCards[index].getChildByName('DragonImage').getComponent(Sprite).spriteFrame;\n        this.changeImage(this.CenterDragonNode,image);\n        for(let i=0;i<4;i++)\n        {\n            this.changeImage( this.dargonAbilties[i].getChildByName('DragonImage'),image);\n\n        }\n    }\n\n  \n\nstart() \n   {\n    \n       this.backButton();\n       \n       let tempNode : Node = null;\n   \n     \n\n    //    for(let i=0;i<this.AvailableDragons;i++)\n    //    {\n    //        tempNode = instantiate(this.DragonCardPrefab);\n    //        this.parentDragonsNode.addChild(tempNode);\n    //        this.dragonCards.push(tempNode);\n    //        resources.load(this.dragonsData.Data[array[random]].Image+'/spriteFrame',SpriteFrame, (err, spriteFrame) => \n    //         {       \n    //                 let image : SpriteFrame  = spriteFrame;\n    //                 TeamManager.getInstance().setDragonsImages(image);\n    //                 this.changeImage(this.dragonCards[i].getChildByName('DragonImage'),image);\n    //                 i==0 && this.setSelectedDragon(0);\n                \n    //         }\n    //     );\n    //        TeamManager.getInstance().setDragonsOwned(array[random]);\n   \n       \n    //    }\n\n       for(let i=0;i<4;i++)\n       {\n           tempNode = instantiate(this.AbilitiesPrefab);\n           this.ParentAbilityNode.addChild(tempNode);\n           this.dargonAbilties.push(tempNode);\n       }\n       let index = TeamManager.getInstance().getDragonbyIndex(0);\n       console.log('index',index);\n\n     \n    }\n\n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.4/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.4/manual/en/scripting/decorator.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.4/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}